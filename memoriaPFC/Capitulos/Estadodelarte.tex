\chapter{Estado del arte}
\label{CAP:Estadodelarte}
En los próximos párrafos, de este segundo capítulo, las distintas tecnologías usadas para el desarrollo y la implementación de la aplicación web serán el tema a tratar.\\
 
\section{Aplicaciones web}
\label{SEC:Seccion21}

\begin{figure}[htbp]

    \centering
    	\includegraphics[scale=0.1]{./Figuras/appweb.jpg}
    \caption{Aplicaciones web.}
    \label{fig:appweb}
    
\end{figure}

La definición de aplicación web, en términos de ingeniería de \textit{software}, es aquel conjunto de herramientas cuyos usuarios utilizan accediendo a un servidor web a través de internet mediante el protocolo HTTP.\\

Las aplicaciones web son populares debido a lo práctico que es el uso del navegador web como cliente ligero, a la independencia del sistema operativo, así como a la facilidad para actualizar y mantener aplicaciones web sin distribuir e instalar software a miles de usuarios. Existen aplicaciones como los \emph{webmails}, wikis, \emph{weblogs}, tiendas en línea y la propia Wikipedia, que son ejemplos de aplicaciones web.\\

Es importante mencionar que una página web puede contener elementos que permiten una comunicación activa entre el usuario y la información. Esto permite que el usuario acceda a los datos de modo interactivo, gracias a que la página responderá a cada una de sus acciones, como por ejemplo rellenar y enviar formularios, participar en juegos diversos y acceder a gestores de bases de datos de todo tipo.\\

\section{Django y Python}
\label{SEC:Seccion22}

Django es un prominente miembro de una nueva generación de \textit{web frameworks}. Un \emph{framework} para aplicaciones web está diseñado para apoyar el desarrollo de sitios web dinámicos, aplicaciones y servicios web. Este tipo de \emph{frameworks} intenta aliviar el exceso de carga asociado con actividades comunes usadas en desarrollos web.\\

\begin{figure}[htbp]

    \centering
    	\includegraphics[scale=0.3]{./Figuras/djangoypythonlogo.jpg}
    \caption{Logo de Django y Python.}
    \label{fig:djangopython}
    
\end{figure}

Django es un \emph{framework} de desarrollo web escrito en \textit{Python} que fomenta el desarrollo rápido y el diseño limpio y pragmático de código abierto. Respeta el paradigma conocido como \textit{Model Template View}. Fue inicialmente desarrollado para gestionar aplicaciones web de páginas orientadas a noticias de \textit{World Company} de Lawrence, y más tarde se liberó bajo una licencia BSD en julio de 2005. Dicho \emph{framework} fue nombrado en nombre del guitarrista de jazz gitano ``Django Reinhardt''.\\

Tres años más tarde, se anunció que la \textit{Django Software Foundation}, una fundación recién formada, se haría cargo de Django en el futuro. La meta fundamental de Django es facilitar la creación de sitios web complejos. Django pone énfasis en el re-uso, la conectividad y extensibilidad de componentes, el desarrollo rápido y el principio \textbf{No te repitas} (DRY, \textit{Don't Repeat Yourself}).\\

Python se utiliza en todas las partes del \emph{framework}, configuraciones, archivos, modelos de datos.\\

\subsubsection{Visión general y características}
Los orígenes de Django en la administración de páginas de noticias son evidentes en su diseño, ya que proporciona una serie de características que facilitan el desarrollo rápido de páginas orientadas a contenidos. Por ejemplo, en lugar de requerir que los desarrolladores escriban controladores y vistas para las áreas de administración de la página, Django proporciona una aplicación incorporada para administrar los contenidos, que puede incluirse como parte de cualquier página hecha con Django y que puede administrar varias páginas hechas con Django a partir de una misma instalación; la aplicación administrativa permite la creación, actualización y eliminación de objetos de contenido, llevando un registro de todas las acciones realizadas sobre cada uno, y proporciona una interfaz para administrar los usuarios y los grupos de usuarios (incluyendo una asignación detallada de permisos).\\

La distribución principal de Django también aglutina aplicaciones que proporcionan un sistema de comentarios, herramientas para sindicar contenido vía RSS y/o Atom, páginas planas que permiten gestionar páginas de contenido sin necesidad de escribir controladores o vistas para esas páginas, y un sistema de redirección de URLs.\\ 

\subsubsection{Características de Django}
Otras características de Django, son las que se enumeran a continuación:
\begin{itemize}
\item Un mapeador objeto-racional.
\item Aplicaciones \emph{enchufables} que pueden instalarse en cualquier página gestionada con Django.
\item Una API de base de datos robusta.
\item Un sistema incorporado de vistas genéricas que ahorra tener que escribir la lógica de ciertas tareas comunes.
\item Un sistema extensible de plantillas basado en etiquetas, con herencia de plantillas.
\item Un despachador de URLs basado en expresiones regulares.
\item Un sistema \textit{middleware}\footnote{Middleware es un software que asiste a una aplicación para interactuar o comunicarse con otras aplicaciones, software, redes, hardware y/o sistemas operativos.} para desarrollar características adicionales; por ejemplo, la distribución principal de Django incluye componentes middleware que proporcionan cacheo, compresión de la salida, normalización de URLs, protección CSRF y soporte de sesiones.
\item Soporte de internacionalización, incluyendo traducciones incorporadas de la interfaz de administración.
\item Documentación incorporada accesible a través de la aplicación administrativa (incluyendo documentación automáticamente de los modelos y las bibliotecas de plantillas añadidas por las aplicaciones).
\end{itemize} 

\subsubsection{Arquitectura}
Aunque Django está fuertemente inspirado en la filosofía de desarrollo MVC, sus desarrolladores declaran públicamente que no se sienten especialmente atados a observar estrictamente ningún paradigma particular, y en cambio prefieren hacer lo que les parece correcto. Como resultado, por ejemplo, lo que se llamaría controlador en un verdadero \emph{framework} MVC se llama en Django ``vista'', y lo que se llamaría ``vista'', se llama plantilla.\\

Gracias al poder de las capas \textit{mediator} y \textit{foundation}, Django permite que los desarrolladores se dediquen a construir los objetos \textit{Entity} y la lógica de presentación y control para ellos.\\

\section{Tecnologías web}
\label{SEC:Seccion23}

Echando la vista atrás, podremos ver cómo todo lo relacionado con internet ha evolucionado vertiginosamente, tanto, que la forma de desarrollar e implementar las aplicaciones web ha cambiado considerablemente. En esta evolución han ido surgiendo nuevas tecnologías haciendo más sencilla su creación, y cuya importancia en la actualidad es cada vez más notoria. En los párrafos siguientes se mencionan aquellas que han sido imprescindibles para el desarrollo del proyecto.\\

\subsection{Bootstrap}

\begin{figure}[htbp]

    \centering
    	\includegraphics[scale=0.5]{./Figuras/bootstraplogo.jpg}
    \caption{Logo del framework Bootstrap. }
    \label{fig:bootstrap}  
    
\end{figure}

Twitter Bootstrap (o simplemente Bootstrap) es un \textit{framework front-end open source} cuyo objetivo es facilitar el desarrollo de aplicaciones o páginas web. Antes de continuar, debemos aclarar que fue creado por los desarrolladores de Twitter, es decir, Twitter usa Bootstrap, habiendo sido creado precisamente para ser usado en esta red social. En la página oficial los creadores ofrecen toda la documentación necesaria para poder modificar todo el diseño de la página o aplicación, así mismo el \emph{framework} pone a la disposición del desarrollador una colección de plantillas CSS3, HTML5 y plugins JavaScript para crear formularios, botones, tablas, barras de navegación y demás componentes que podemos ver comúnmente en cualquier sitio web.\\

Actualmente, tiene una gran demanda debido a la creciente presencia que comienza a tener entre las empresas españolas y a ser algo destacable en los distintos perfiles de desarrolladores.\\

\subsubsection{Por qué usar Bootstrap}

\begin{itemize}

\item La primera ventaja de utilizar Bootstrap literalmente salta a la vista. Podemos hacer que todo se vea realmente más agradable gracias a los estilos que provee el \emph{framework}. Con sólo agregar algunas clases y el \textit{markup} correcto se pueden lograr grupos de botones, barras de navegación, dropdowns, formularios, etc. 
\item Es \textit{Cross Browser}, funciona y se ve de la misma manera en la mayoría de los navegadores de escritorio (incluso en \textit{IE7}).
\item Es \textit{Mobile}. Fue pensado no sólo para funcionar en \textit{desktops} sino también en dispositivos móviles como celulares o tablets. Por ello fue desarrollado teniendo en mente un diseño \textit{responsive} para que cada componente se pueda adaptar a diferentes resoluciones de pantalla. 
\item Ahorra tiempo. Al tener resuelto todo lo que mencionamos anteriormente podemos enfocarnos en otros aspectos de nuestra aplicación.

\end{itemize}

\subsection{HTML5}

\textit{HyperText Markup Language} (lenguaje de marcado hipertextual) está basado en etiquetas. Se utilizó por primera vez allá por los años 90, y en un breve periodo de tiempo se extendió y popularizó.\\

\begin{figure}[htbp]
	
	\centering
	\includegraphics[scale=0.2]{./Figuras/html5logo.png}
	\caption{Logo del lenguaje estático HTML5. }
	\label{fig:html5}    
	
\end{figure}

HTML5 es la quinta versión del lenguaje básico de la \textit {World Wide Web, HTML}. Al no ser reconocido en viejas versiones de navegadores por sus nuevas etiquetas y funcionalidades, se recomienda al usuario común actualizar a la versión más nueva para poder disfrutar de todo el potencial que provee HTML5. El desarrollo de este lenguaje de marcado es regulado por el Consorcio W3C.\\

Establece una serie de nuevos elementos y atributos que reflejan el uso típico de los sitios web modernos. Algunos de ellos son técnicamente similares a las etiquetas \textit{<div>} y \textit{<span>}, pero tienen un significado semántico, como por ejemplo \textit{<nav>} (bloque de navegación del sitio web) y \textit{<footer>}. Otros elementos proporcionan nuevas funcionalidades a través de una interfaz estandarizada, como los elementos de \textit{<audio>} y \textit{<video>}. Introduce el elemento \textit{<canvas>}, capaz de \emph{renderizar} elementos en 2D y 3D en los navegadores más importantes (Mozilla, Chrome, Opera, Safari e IE).\\

\subsubsection{Novedades de HTML5}

Las novedades de este nuevo lenguaje son:

\begin{itemize}

\item Incorpora etiquetas (canvas 2D y 3D, audio, vídeo) con \texttt{codecs} para mostrar los contenidos multimedia. Actualmente hay una lucha entre imponer \texttt{codecs} libres (Web + VP8) o privados (H.264/MPEG-4 AVC).
\item Introduce etiquetas para manejar grandes conjuntos de datos: \textit{Datagrid}, \textit{Details}, \textit{Menu} y \textit{Command}. Estas etiquetas permiten generar tablas dinámicas que pueden filtrar, ordenar y ocultar contenido en cliente.
\item Añade mejoras en los formularios. Nuevos tipos de datos (\textit{eMail}, \textit{number}, \textit{url}, \textit{datetime}...) y facilidades para validar el contenido sin JavaScript.
\item Incluye visores: MathML (fórmulas matemáticas) y SVG (gráficos vectoriales). En general se deja abierto a poder interpretar otros lenguajes XML.
\item Agrega \textit{Drag} \& \textit{Drop}. Nueva funcionalidad para arrastrar objetos como imágenes.

\end{itemize}

\subsection{CSS3}

\begin{figure}[htbp]

    \centering
    	\includegraphics[scale=0.3]{./Figuras/css3logo.png}
    \caption{Logo del lenguaje de estilos CSS3. }
    \label{fig:css3}
    
\end{figure}

\textit{Cascading Style Sheets} u hojas de estilo en cascada en su traducción literal al castellano, es un lenguaje de definición de estilos que se convirtió en un estándar de la W3C en 1996 por la capacidad de separación de la apariencia de la página y su funcionalidad. Pronto se expandió y su uso permitió una mejora significativa en la calidad de las páginas web dado que inicialmente eran prácticamente solo texto y pasaron a ser mucho más llamativas a la vez que fáciles de cargar.\\

CSS se utiliza para dar estilo a los diferentes elementos del documento HTML. Entre estos estilos encontramos colores, tamaños de las fuentes, posiciones de los elementos en la pantalla, entre otras muchas cosas. Para incluir las diferentes hojas de estilo, se utiliza la etiqueta \textit{style} en el fichero a utilizar con la definición del tipo de documento que estamos enlazando.\\

\subsection{JavaScript}

\begin{figure}[htbp]

    \centering
    	\includegraphics[scale=0.3]{./Figuras/javaScriptlogo.png}
    \caption{Logo de JavaScript. }
    \label{fig:javascript}
    
\end{figure}

JavaScript es un lenguaje de programación interpretado, dialecto del estándar ECMAScript. Se define como orientado a objetos, basado en prototipos, imperativo, débilmente tipado y dinámico.\\

Se utiliza principalmente en su forma del lado del cliente (\textit{client-side}), implementado como parte de un navegador web permitiendo mejoras en la interfaz de usuario y páginas web dinámicas aunque existe una forma de JavaScript del lado del servidor (\textit{Server-side JavaScript o SSJS}). Su uso en aplicaciones externas a la web, por ejemplo en documentos PDF, aplicaciones de escritorio (mayoritariamente \textit{widgets}) es también significativo.\\

JavaScript se diseñó con una sintaxis similar al lenguaje C, aunque adopta nombres y convenciones del lenguaje de programación Java. Sin embargo, Java y JavaScript no están relacionados y tienen semánticas y propósitos diferentes.\\

Todos los navegadores modernos interpretan el código JavaScript integrado en las páginas web. Para interactuar con una página web se provee al lenguaje JavaScript de una implementación del DOM, \textit{Document Object Model}.\\

Tradicionalmente se venía utilizando en páginas web HTML para realizar operaciones y únicamente en el marco de la aplicación cliente, sin acceso a funciones del servidor. JavaScript se interpreta en el agente usuario, al mismo tiempo que las sentencias van descargándose junto con el código HTML. Una cuarta edición está en desarrollo e incluirá nuevas características tales como paquetes, espacio de nombres y definición explícita de clases.\\

\section{API Google Maps}
\label{SEC:Seccion24}

\begin{figure}[htbp]
    \centering
    	\includegraphics[scale=0.3]{./Figuras/apigmaps.png}
    \caption{Logo de Google Maps. }
    \label{fig:googlemaps}
\end{figure}

Google Maps es un servidor de aplicaciones de mapas en la web que pertenece a Google. Ofrece imágenes de mapas desplazables, así como fotografías por satélite del mundo e incluso la ruta entre diferentes ubicaciones o imágenes a pie de calle \textit{Google Street View}. Desde el 6 de octubre de 2005, Google Maps es parte de Google Local.\\

Existe una variante a nivel entorno de escritorio llamada Google Earth que ofrece Google también de forma gratuita. En 2014, los documentos filtrados por Edward Snowden revelaron que Google Maps es parte y víctima del entramado de vigilancia mundial operado por varias agencias de inteligencia occidentales y empresas tecnológicas.\\

\subsubsection{Desarrollo}
Google Maps fue anunciado por primera vez en Google Blog el 8 de febrero de 2005. Originalmente soportaría solo a los usuarios de Internet Explorer y Mozilla Firefox, pero el soporte para Opera y Safari fue agregado el 25 de febrero de 2005. El software estuvo en fase beta durante seis meses, antes de convertirse en parte de Google Local, el 6 de octubre de 2005.\\

Como en las aplicaciones web de Google, se usan un gran número de archivos JavaScript para crear Google Maps. Como el usuario puede mover el mapa, la visualización del mismo se baja desde el servidor. Cuando un usuario busca un negocio, la ubicación es marcada por un indicador en forma de pin, el cual es una imagen PNG transparente sobre el mapa. Para lograr la conectividad sin sincronía con el servidor, Google aplicó el uso de AJAX\footnote{Técnica de desarrollo web para crear aplicaciones interactivas o RIA. Estas aplicaciones se ejecutan en el cliente (o navegador) mientras se mantiene la comunicación asíncrona con el servidor en segundo plano.} dentro de esta aplicación.\\


\section{Tecnologías secundarias}
\label{SEC:Seccion25}
Además de las tecnologías mencionadas, se han querido utilizar otras tecnologías que mejoran y facilitan el desarrollo del proyecto.\\

\subsection{Git}

\begin{figure}[htbp]
    \centering
    	\includegraphics[scale=0.5]{./Figuras/gitlogo.png}
    \caption{Logo de Git.}
    \label{fig:git}
\end{figure}

Git es un software de control de versiones diseñado por \textit{Linus Torvalds}, pensando en la eficiencia y la confiabilidad del mantenimiento de versiones de aplicaciones cuando éstas tienen un gran número de archivos de código fuente. Al principio, Git se pensó como un motor de bajo nivel sobre el cual otros pudieran escribir la interfaz de usuario o \textit{front-end} como Cogito o StGIT. Sin embargo, Git se ha convertido desde entonces en un sistema de control de versiones con funcionalidad plena. Hay algunos proyectos de mucha relevancia que usan Git, en particular, el grupo de programación del núcleo Linux.\\

\subsubsection{Características}

El diseño de Git se basó en \textit{BitKeeper} y en \textit{Monotone} \footnote{Sistemas de control distribuido de versiones para el código fuente de los programas.}. El diseño resulta de la experiencia del desarrollador de Linux, \textit{Linux Torvalds}, manteniendo una enorme cantidad de código distribuida y gestionada por mucha gente, que incide en numerosos detalles de rendimiento, y de la necesidad de rapidez en una primera implementación.\\

Entre las características más relevantes se encuentran:

\begin{itemize}

\item Fuerte apoyo al desarrollo no lineal, por ende, rapidez en la gestión de ramas y mezclado de diferentes versiones. Git incluye herramientas específicas para navegar y visualizar un historial de desarrollo no lineal.
\item Gestión distribuida. Al igual que \textit{Darcs}, \textit{Bitkeeper}, \textit{Mercurial}, \textit{SVK}, \textit{Bazaar} y \textit{Monotone}, Git le da a cada programador una copia local del historial del desarrollo entero, y los cambios se propagan entre los repositorios locales. 
\item Los almacenes de información pueden publicarse por HTTP, FTP, rsync o mediante un protocolo nativo, ya sea a través de una conexión TCP/IP simple o a través de cifrado SSH. Git también puede emular servidores CVS, lo que habilita el uso de clientes CVS pre-existentes y módulos IDE para CVS pre-existentes en el acceso de repositorios Git.
\item Los repositorios subversion y svk se pueden usar directamente con git-svn.
\item Gestión eficiente de proyectos grandes, dada la rapidez de gestión de diferencias entre archivos, entre otras mejoras de optimización de velocidad de ejecución.
\item Realmacenamiento periódico en paquetes (ficheros).

\end{itemize}

Tras la decisión de hacer uso de \textit{Git}, se tuvo que buscar un servidor donde poder alojar nuestro repositorio \textit{Git}. Entre los distintos servidores existentes se eligió \textbf{GitHub}, excelente servicio de alojamiento de repositorios de \textit{software} con este sistema. \textit{GitHub} es el servicio elegido por proyectos de software libre como \textit{jQuery}, \textit{Node.js}, \textit{Redis}, \textit{Ruby on Rails}. Además, algunas de las grandes empresas de Internet como Facebook alojan ahí sys desarrollos públicos, como el SDK, librerías, etc.

\subsection{Alojamiento Web}
El alojamiento web (o \textit{web hosting}) es el servicio que provee a los usuarios de internet un sistema para poder almacenar información, imágenes, vídeo o cualquier contenido accesible vía web. Es una analogía de ``hospedaje o alojamiento en hoteles o habitaciones'' donde uno ocupa un lugar específico, en este caso la analogía alojamiento web o alojamiento de páginas web, se refiere al lugar que ocupa una página web, sitio web, sistema, correo electrónico, archivos... en internet o más específicamente en un servidor que por lo general hospeda varias aplicaciones o páginas web.\\

Las compañías que proporcionan espacio de un servidor a sus clientes se suelen denominar con el término en inglés \textit{web host}.\\

El uso más típico de un hosting es crear un sitio web, que en realidad no es más que un conjunto de ficheros en hormato HTML que son las páginas web, pero también puedes usar tu hosting simplemente para permitir la descarga de cualquier otra cosa (documentos PFC, ficheros MP3, de audio, vídeo, etc).\\

Aparte de los servicios básicos de alojamiento de fichero, un servicio de hosting incluye otros servicios de mucho valor añadido. Entre ellos los más importantes son:

\begin{itemize}
\item Un servidor de correo electrónico que permite que tengas cuentas de correo con tu propio nombre de dominio.
\item Alojamiento de aplicaciones web basadas en PHP y bases de datos para crear webs generalistas, blogs, tiendas online o foros de discusión.
\item Acceso vía FTP para almacenar y descargar ficheros.
\item Crear discos virtuales, es decir, crear almacenamiento en la nube con tu propio servicio de hosting al que accedes como si lo tuvieras en tu ordenador.
\end{itemize}

\subsubsection{Alwaysdata}
\begin{figure}[htbp]
	\centering
	\includegraphics[scale=0.5]{./Figuras/alwaysdatalogo.jpg}
	\caption{Logo de Alwaysdata.}
	\label{fig:alwaysdata}
\end{figure}

Alwaysdata, es una \textit{website} para \textit{Web Hosting}, alojamiento web. Permite alojar aplicaciones web desarrolladas en Django y Python. Su atractivo es debido a que permite el alojamiento gratuito de aplicaciones. Pero este alojamiento gratuito es limitado en comparación al alojamiento de pago.

